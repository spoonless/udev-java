
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>La classe Object &#8212; documentation Le langage Java 1.0</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" />
    <link rel="next" title="La classe String" href="la_classe_string.html" />
    <link rel="prev" title="Le polymorphisme" href="polymorphisme.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="la-classe-object">
<h1>La classe Object<a class="headerlink" href="#la-classe-object" title="Lien permanent vers ce titre">¶</a></h1>
<p>Java est un langage qui ne supporte que l’héritage simple. L’arborescence
d’héritage est un arbre dont la racine est la classe <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html">Object</a>. Si le développeur
ne précise pas de classe parente dans la déclaration d’une classe, alors
la classe hérite implicitement de <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html">Object</a>.</p>
<p>La classe <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html">Object</a> fournit des méthodes communes à toutes les classes. Certaines
de ces méthodes doivent être surchargées dans les classes filles.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Rien ne vous interdit de créer une instance de <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html">Object</a>.</p>
<div class="last highlight-java"><div class="highlight"><pre><span></span><span class="n">Object</span> <span class="n">myObj</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Object</span><span class="o">();</span>
</pre></div>
</div>
</div>
<div class="section" id="la-methode-equals">
<h2>La méthode equals<a class="headerlink" href="#la-methode-equals" title="Lien permanent vers ce titre">¶</a></h2>
<p>En Java, l’opérateur <strong>==</strong> sert à comparer les références. Il ne faut donc
<strong>jamais</strong> l’utiliser pour comparer des objets. La comparaison d’objets se
fait grâce à la méthode <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-">equals</a> héritée de la classe <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html">Object</a>.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">Vehicule</span> <span class="n">v1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Voiture</span><span class="o">(</span><span class="s">&quot;DeLorean&quot;</span><span class="o">);</span>
<span class="n">Vehicule</span> <span class="n">v2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Moto</span><span class="o">(</span><span class="s">&quot;Kaneda&quot;</span><span class="o">);</span>

<span class="k">if</span> <span class="o">(</span><span class="n">v1</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">v1</span><span class="o">))</span> <span class="o">{</span>
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;v1 est identique à lui-même.&quot;</span><span class="o">);</span>
<span class="o">}</span>

<span class="k">if</span> <span class="o">(</span><span class="n">v1</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">v2</span><span class="o">))</span> <span class="o">{</span>
  <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;v1 est identique à v2.&quot;</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</div>
<p>L’implémentation par défaut de <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-">equals</a> fournie par <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html">Object</a> compare les références
entre elles. L’implémentation par défaut est donc simplement :</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="n">Object</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="o">(</span><span class="k">this</span> <span class="o">==</span> <span class="n">obj</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="first admonition-title">Prudence</p>
<p class="last">Il ne faut pas déduire de l’implémentation par défaut qu’il est possible
d’utiliser <strong>==</strong> pour comparer des objets. N’importe quelle classe
héritant de la classe <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html">Object</a> peut modifier ce comportement : à commencer
par une des classes les plus utilisée en Java, la classe <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html">String</a>.</p>
</div>
<p>Parfois, l’implémentation par défaut peut suffire. C’est notamment le cas
lorsque l’unicité en mémoire suffit à identifier un objet. Cepedant,
si nous ajoutons la notion de plaque d’immatriculation à notre classe
<em>Vehicule</em> :</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Vehicule</span> <span class="o">{</span>

  <span class="kd">private</span> <span class="n">String</span> <span class="n">immatriculation</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">marque</span><span class="o">;</span>

  <span class="kd">public</span> <span class="nf">Vehicule</span><span class="o">(</span><span class="n">String</span> <span class="n">immatriculation</span><span class="o">,</span> <span class="n">String</span> <span class="n">marque</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">immatriculation</span> <span class="o">=</span> <span class="n">immatriculation</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">marque</span> <span class="o">=</span> <span class="n">marque</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="c1">// ...</span>

<span class="o">}</span>
</pre></div>
</div>
<p>Alors l’attribut immatriculation introduit l’idée d’identification du véhicule.
Il est donc judicieux de considérer que deux véhicules sont égaux s’ils
ont la même immatriculation. Dans ce cas, il faut surcharger la méthode <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-">equals</a>.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">com.cgi.udev.conduite</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Vehicule</span> <span class="o">{</span>

  <span class="kd">private</span> <span class="n">String</span> <span class="n">immatriculation</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">marque</span><span class="o">;</span>

  <span class="kd">public</span> <span class="nf">Vehicule</span><span class="o">(</span><span class="n">String</span> <span class="n">immatriculation</span><span class="o">,</span> <span class="n">String</span> <span class="n">marque</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">immatriculation</span> <span class="o">=</span> <span class="n">immatriculation</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">marque</span> <span class="o">=</span> <span class="n">marque</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="n">Object</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(!</span> <span class="o">(</span><span class="n">obj</span> <span class="k">instanceof</span> <span class="n">Vehicule</span><span class="o">))</span> <span class="o">{</span>
      <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="n">Vehicule</span> <span class="n">vehicule</span> <span class="o">=</span> <span class="o">(</span><span class="n">Vehicule</span><span class="o">)</span> <span class="n">obj</span><span class="o">;</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">immatriculation</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span>
           <span class="k">this</span><span class="o">.</span><span class="na">immatriculation</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">vehicule</span><span class="o">.</span><span class="na">immatriculation</span><span class="o">);</span>

  <span class="o">}</span>

  <span class="c1">// ...</span>

<span class="o">}</span>
</pre></div>
</div>
<p>Dans l’exemple précédent, notez l’utilisation de <strong>instanceof</strong> pour vérifier
que l’objet en paramètre est bien compatible avec le type <em>Vehicule</em> (sinon
la méthode retourne <strong>false</strong>). En effet, la signature de <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-">equals</a> impose que
le paramètre soit de type <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html">Object</a>. Il est donc important de commencer par
vérifier que le paramètre est d’un type acceptable pour la comparaison.
Notez également, que l’implémentation est telle que deux véhicules n’ayant pas
de plaque d’immatriculation ne sont pas identiques.</p>
<p>L’implémentation de <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-">equals</a> doit être conforme à certaines règles pour s’assurer
qu’elle fonctionnera correctement, notamment lorsqu’elle est utilisée par
l’API standard ou par des bibliothèques tierces.</p>
<ul>
<li><dl class="first docutils">
<dt>Son implémentation doit être réflexive :</dt>
<dd><p class="first last">Pour x non nul, x.equals(x) doit être vrai</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Son implémentation doit être symétrique :</dt>
<dd><p class="first last">Si x.equals(y) est vrai alors y.equals(x) doit être vrai</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Son implémentation doit être transitive :</dt>
<dd><p class="first">Pour x, y et z non nuls</p>
<p>Si x.equals(y) est vrai</p>
<p>Et si y.equals(z) est vrai</p>
<p class="last">Alors x.equals(y) doit être vrai</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Son implémentation doit être consistante</dt>
<dd><p class="first">Pour x et y non nuls</p>
<p class="last">Si x.equals(y) est vrai alors il doit rester vrai tant que l’état de x et de
y est inchangé.</p>
</dd>
</dl>
</li>
<li><p class="first">Si x est non nul alors x.equals(null) doit être faux.</p>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Il est parfois facile d’introduire un bug en Java.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="o">(</span><span class="n">x</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">y</span><span class="o">))</span> <span class="o">{</span>
  <span class="c1">// ...</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Le code ci-dessus ne teste pas la possibilité pour la variable <em>x</em> de valoir
<strong>null</strong>, entraînant ainsi une erreur de type <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html">NullPointerException</a>.
Il ne faut donc pas oublier de tester la valeur <strong>null</strong> :</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">x</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">y</span><span class="o">))</span> <span class="o">{</span>
  <span class="c1">// ...</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Lorsque l’un des deux termes est une constante, alors il est plus simple
de placer la constante à gauche de l’expression de façon à éviter le problème
de la nullité. En effet, <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-">equals</a> doit retourner <strong>false</strong> si le paramètre
vaut <strong>null</strong>. Cela est notamment très pratique pour comparer une chaîne
de caractères avec une constante :</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="o">(</span><span class="s">&quot;Message à comparer&quot;</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">msg</span><span class="o">))</span> <span class="o">{</span>
  <span class="c1">// ...</span>
<span class="o">}</span>
</pre></div>
</div>
<p class="last">On peut aussi utiliser la classe outil <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/util/Objects.html">java.util.Objects</a> qui fournit la méthode
de classe <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#equals-java.lang.Object-java.lang.Object-">equals(Object, Object)</a> pour prendre en charge le cas de la valeur
<strong>null</strong>. Notez toutefois que <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#equals-java.lang.Object-java.lang.Object-">equals(Object, Object)</a> retourne <strong>true</strong>
si les deux paramètres valent <strong>null</strong>.</p>
</div>
</div>
<div class="section" id="la-methode-hashcode">
<h2>La méthode hashCode<a class="headerlink" href="#la-methode-hashcode" title="Lien permanent vers ce titre">¶</a></h2>
<p>La méthode <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode--">hashCode</a> est fournie pour l’utilisation de certains algorithmes,
notamment pour l’utilisation de table de hachage. Le principe d’un algorithme
de hachage est d’associer un identifiant à un objet. Cet identifiant doit être
le même pour la durée de vie de l’objet. De plus deux objets égaux doivent
avoir le même code de hachage.</p>
<p>L’implémentation de cette méthode peut se révéler assez technique. En général,
on se basera sur les attributs utilisés dans l’implémentation de la méthode
<a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals-java.lang.Object-">equals</a> pour en déduire le code de hachage.</p>
<p>Cette méthode ne doit être surchargée que si cela est réellement utile.
Par exemple si une instance de cette classe doit servir de clé pour une
instance de <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html">HashMap</a>.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">com.cgi.udev.conduite</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Vehicule</span> <span class="o">{</span>

  <span class="kd">private</span> <span class="n">String</span> <span class="n">immatriculation</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">marque</span><span class="o">;</span>

  <span class="kd">public</span> <span class="nf">Vehicule</span><span class="o">(</span><span class="n">String</span> <span class="n">immatriculation</span><span class="o">,</span> <span class="n">String</span> <span class="n">marque</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">immatriculation</span> <span class="o">=</span> <span class="n">immatriculation</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">marque</span> <span class="o">=</span> <span class="n">marque</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="n">Object</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(!</span> <span class="o">(</span><span class="n">obj</span> <span class="k">instanceof</span> <span class="n">Vehicule</span><span class="o">))</span> <span class="o">{</span>
      <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="n">Vehicule</span> <span class="n">vehicule</span> <span class="o">=</span> <span class="o">(</span><span class="n">Vehicule</span><span class="o">)</span> <span class="n">obj</span><span class="o">;</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">immatriculation</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span>
           <span class="k">this</span><span class="o">.</span><span class="na">immatriculation</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">vehicule</span><span class="o">.</span><span class="na">immatriculation</span><span class="o">);</span>

  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">int</span> <span class="nf">hashCode</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">immatriculation</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">immatriculation</span><span class="o">.</span><span class="na">hashCode</span><span class="o">();</span>
  <span class="o">}</span>

  <span class="c1">// ...</span>

<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="la-methode-tostring">
<h2>La méthode toString<a class="headerlink" href="#la-methode-tostring" title="Lien permanent vers ce titre">¶</a></h2>
<p>La méthode <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--">toString</a> est une méthode très utile, notamment pour le débugage et
la production de log. Elle permet d’obtenir une représentation sous forme
de chaîne de caractères d’un objet. Elle est implicitement appelée par le
compilateur lorsqu’on concatène une chaîne de caractères avec un objet.</p>
<p>Par défaut l’implémentation de la méthode <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--">toString</a> dans la classe <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html">Object</a>
retourne le type de l’objet suivi de &#64; suivi du code de hachage de l’objet.
Il suffit de surcharger cette méthode pour obtenir la représentation souhaitée.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">com.cgi.udev.conduite</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Vehicule</span> <span class="o">{</span>

  <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">marque</span><span class="o">;</span>

  <span class="kd">public</span> <span class="nf">Vehicule</span><span class="o">(</span><span class="n">String</span> <span class="n">marque</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">marque</span> <span class="o">=</span> <span class="n">marque</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="s">&quot;Véhicule de marque &quot;</span> <span class="o">+</span> <span class="n">marque</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="c1">// ...</span>

<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">Vehicule</span> <span class="n">v</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Vehicule</span><span class="o">(</span><span class="s">&quot;DeLorean&quot;</span><span class="o">);</span>

<span class="n">String</span> <span class="n">msg</span> <span class="o">=</span> <span class="s">&quot;Objet créé : &quot;</span> <span class="o">+</span> <span class="n">v</span><span class="o">;</span>

<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">msg</span><span class="o">);</span> <span class="c1">// &quot;Objet créé : Véhicule de marque DeLorean&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="la-methode-finalize">
<h2>La méthode finalize<a class="headerlink" href="#la-methode-finalize" title="Lien permanent vers ce titre">¶</a></h2>
<p>La méthode <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize--">finalize</a> est appelée par le ramasse-miettes avant que l’objet ne soit
supprimé et la mémoire récupérée. Surcharger cette méthode, donne donc l’opportunité
au développeur de déclencher un traitement avant que l’objet ne disparaisse.
Cependant, nous avons déjà vu dans le chapitre sur le <a class="reference internal" href="cycle_de_vie.html#cycle-de-vie-finalize"><span class="std std-ref">cycle de vie</span></a>
que le fonctionnement du ramasse-miettes ne donne aucune garantie sur le fait
que cette méthode sera appelée.</p>
</div>
<div class="section" id="la-methode-clone">
<h2>La méthode clone<a class="headerlink" href="#la-methode-clone" title="Lien permanent vers ce titre">¶</a></h2>
<p>La méthode <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone--">clone</a> est utilisée pour cloner une instance, c’est-à-dire obtenir une
copie d’un objet. Par défaut, elle est déclarée <strong>protected</strong> car toutes les
classes ne désirent pas permettre de cloner une instance.</p>
<p>Pour qu’un objet soit clonable, sa classe doit implémenter l’interface marqueur
<a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Cloneable.html">Cloneable</a>. L’implémentation par défaut de la méthode dans <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html">Object</a> consiste à jeter
une exception <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/CloneNotSupportedException.html">CloneNotSupportedException</a> si l’interface <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Cloneable.html">Cloneable</a> n’est pas
implémentée. Si l’interface est implémentée alors la méthode crée une nouvelle
instance de la classe et affecte
la même valeur que l’instance d’origine aux attributs de la nouvelle instance.
L’implémentation par défaut de <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone--">clone</a> n’appelle pas les constructeurs pour créer
la nouvelle instance.</p>
<div class="admonition caution">
<p class="first admonition-title">Prudence</p>
<p class="last">L’implémentation par défaut de la méthode <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone--">clone</a> ne réalise pas un clonage
en profondeur. Cela signifie que si les attributs de la classe d’origine
référencent des objets, les attributs du clone référenceront les mêmes objets.
Si ce comportement n’est pas celui désiré, alors il
faut fournit une nouvelle implémentation de la méthode <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone--">clone</a> dans la classe.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Par défaut, tous les tableaux implémentent l’interface <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Cloneable.html">Cloneable</a> et surchargent
la méthode <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone--">clone</a> afin de la rendre <strong>public</strong>. On peut donc directement cloner
des tableaux en Java si on désire en obtenir une copie.</p>
<div class="last highlight-java"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="o">[]</span> <span class="n">tableau</span> <span class="o">=</span> <span class="o">{</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">};</span>
<span class="kt">int</span><span class="o">[]</span> <span class="n">tableauClone</span> <span class="o">=</span> <span class="n">tableau</span><span class="o">.</span><span class="na">clone</span><span class="o">();</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="la-methode-getclass">
<h2>La méthode getClass<a class="headerlink" href="#la-methode-getclass" title="Lien permanent vers ce titre">¶</a></h2>
<p>La méthode <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass--">getClass</a> permet d’accéder à l’objet représentant la classe de l’instance.
Cela signifie qu’un programme Java peut accéder par programmation à la définition
de la classe d’une instance. Cette méthode est notamment très utilisée dans des
usages avancés impliquant la <em>réflexivité</em>.</p>
<p>L’exemple ci-dessous, affiche le nom complet (c’est-à-dire en incluant son package)
de l’objet créé :</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">Vehicule</span> <span class="n">v</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Vehicule</span><span class="o">(</span><span class="s">&quot;DeLorean&quot;</span><span class="o">);</span>

<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">v</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">getName</span><span class="o">());</span>
</pre></div>
</div>
</div>
<div class="section" id="les-methodes-de-concurrence">
<h2>Les méthodes de concurrence<a class="headerlink" href="#les-methodes-de-concurrence" title="Lien permanent vers ce titre">¶</a></h2>
<p>La classe <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html">Object</a> fournit un ensemble de méthodes qui sont utilisées pour l’échange
de signaux dans la programmation concurrente. Il s’agit des méthodes <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify--">notify</a>,
<a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll--">notifyAll</a> et <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait-long-">wait</a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Le langage Java</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="compilation.html">Compilation &amp; exécution</a></li>
<li class="toctree-l1"><a class="reference internal" href="structure_fondamentale.html">La structure fondamentale du langage</a></li>
<li class="toctree-l1"><a class="reference internal" href="premiere_classe.html">Une première classe</a></li>
<li class="toctree-l1"><a class="reference internal" href="types_primitifs.html">Les types primitifs</a></li>
<li class="toctree-l1"><a class="reference internal" href="operateurs.html">Les opérateurs</a></li>
<li class="toctree-l1"><a class="reference internal" href="structures_de_controle.html">Les structures de contrôle</a></li>
<li class="toctree-l1"><a class="reference internal" href="attributs_et_methodes.html">Attributs &amp; méthodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="tableau.html">Les tableaux</a></li>
<li class="toctree-l1"><a class="reference internal" href="cycle_de_vie.html">Cycle de vie d’un objet</a></li>
<li class="toctree-l1"><a class="reference internal" href="package.html">Les packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="relations_entre_objets.html">Les relations entre objets</a></li>
<li class="toctree-l1"><a class="reference internal" href="polymorphisme.html">Le polymorphisme</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">La classe Object</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#la-methode-equals">La méthode equals</a></li>
<li class="toctree-l2"><a class="reference internal" href="#la-methode-hashcode">La méthode hashCode</a></li>
<li class="toctree-l2"><a class="reference internal" href="#la-methode-tostring">La méthode toString</a></li>
<li class="toctree-l2"><a class="reference internal" href="#la-methode-finalize">La méthode finalize</a></li>
<li class="toctree-l2"><a class="reference internal" href="#la-methode-clone">La méthode clone</a></li>
<li class="toctree-l2"><a class="reference internal" href="#la-methode-getclass">La méthode getClass</a></li>
<li class="toctree-l2"><a class="reference internal" href="#les-methodes-de-concurrence">Les méthodes de concurrence</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="la_classe_string.html">La classe String</a></li>
<li class="toctree-l1"><a class="reference internal" href="les_exceptions.html">Les exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="classe_abstraite.html">Les classes abstraites</a></li>
<li class="toctree-l1"><a class="reference internal" href="interface.html">Les interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="generiques.html">Méthodes et classes génériques</a></li>
<li class="toctree-l1"><a class="reference internal" href="les_collections.html">Les collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="enumeration.html">Les énumérations</a></li>
<li class="toctree-l1"><a class="reference internal" href="les_dates.html">Les dates</a></li>
<li class="toctree-l1"><a class="reference internal" href="entrees_sorties.html">Les entrées/sorties</a></li>
<li class="toctree-l1"><a class="reference internal" href="classe_interne.html">Les classes internes</a></li>
<li class="toctree-l1"><a class="reference internal" href="les_lambdas.html">Les lambdas</a></li>
<li class="toctree-l1"><a class="reference internal" href="streams.html">Streams</a></li>
<li class="toctree-l1"><a class="reference internal" href="les_annotations.html">Les annotations</a></li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="http://docs.oracle.com/javase/8/docs/api/index.html?overview-summary.html">API Java</a></li>
    
    <li class="toctree-l1"><a href="http://docs.oracle.com/javase/8/docs/">Documentation Java</a></li>
    
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Recherche rapide</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;
<a ref="author" href="mailto:david.gayerie.epsi@mailoo.org">David Gayerie</a>
<a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/fr/"><img alt="Licence Creative Commons" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/fr/80x15.png" /></a>
.
      
    </div>

    

    
  </body>
</html>